# twitter-stream

This is a demo application that streams tweets to a web client connected to it.

The application consits of:
- A polling microservice that polls for tweets given an API KEY and SECRET and publish them using REDIS.
- A backend/streaming microservice that consumes _tweet events_ from REDIS and publish them to a signalR hub.
- A webapp that serves the client code to connect to the backend hub.

# Architecture

The idea of the service is that a single poller consumes a feed from Twitter and publishes tweets a pool of "_backend-stream_" instances that serves the "_tweet events_" to clients that connect to it. If used with kubernetes both the `backend-stream` and the `web-client` can scale according to the load of traffic generated by end clients while using a single `twitter-poller` to consume the Twitter API, that way is easier to control the consume quota that is constrained in the Twitter API independentely of the amount of clients connected to it.

For simplicity and demo purposes `docker-compose` is used instead Kubernetes.

# How to use it:

The only prerrequisite is to have docker with linux containers enabled.

## Fast and simple:
Use `docker-compose up` and navigate to [http://localhost:3000]

## More detailed
Run `docker-compose up` to run the service. By default uses a dummy feed that send a "_tweet_" every 5 seconds. To use te [stream API in twitter](https://developer.twitter.com/en/docs/tweets/filter-realtime/overview), change the in `docker-compose.yml` file the value:
- POLLER_USE_DUMMY=false
- TWITTER_API_KEY=your_key
- TWITTER_API_SECRET=your_secret
- TWITTER_FILTER=Comma-separated list of keywords to get tweets for

## Cleanup

Exit with `CTRL + c` and clean with `docker-compose down`.
